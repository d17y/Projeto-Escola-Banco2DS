<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Gastos - First Bank</title>
<style>
  * { margin:0; padding:0; box-sizing:border-box; font-family:'Poppins',sans-serif; }
  body {
    background: linear-gradient(135deg,#000,#002d1f 60%,#00ff88 150%);
    color:#fff;
    min-height:100vh;
    display:flex;
    flex-direction:column;
    align-items:center;
    padding:20px;
  }
  h1 {
    color:#00ff88;
    margin:20px 0;
    text-shadow:0 0 15px #00ffaa;
    text-align:center;
  }
  .back-btn {
    background:none;
    border:1px solid rgba(0,255,136,0.3);
    color:#00ff88;
    border-radius:12px;
    padding:8px 14px;
    cursor:pointer;
    margin-bottom:20px;
    text-shadow:0 0 5px #00ff88;
    transition:0.3s;
  }
  .back-btn:hover { background: rgba(0,255,136,0.1); box-shadow:0 0 15px #00ff88; }

  #gastosContainer {
    display:flex;
    flex-direction:column;
    gap:15px;
    width:100%;
    max-width:420px;
    margin-bottom:40px;
  }

  .gasto {
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:15px 20px;
    border-radius:15px;
    
    border:2px solid;
    box-shadow:0 0 15px rgba(0,255,136,0.3);
  }
  .gasto span {
    font-size:0.95em;
  }
  .gasto .tipo-pix { border-color: #ff4c4c; color:#ff4c4c; }
  .gasto .tipo-meta { border-color: #00ff88; color:#00ff88; }

  .gasto .descricao { font-weight:600; }
  .gasto .valor { font-weight:600; }
  .gasto .data { font-size:0.75em; opacity:0.7; margin-left:10px; }

  @media(max-width:480px){
    .gasto { flex-direction:column; align-items:flex-start; padding:12px 15px; }
    .gasto .data { margin-left:0; margin-top:5px; }
  }
</style>
</head>
<body>

<button class="back-btn" onclick="window.location.href='index3.html'">‚Üê Voltar</button>
<h1>üí∏ Meus Gastos üí∏</h1>

<div id="gastosContainer"></div>

<script>
// Fun√ß√£o para formatar BRL
function formatBRL(n){
  return n.toLocaleString('pt-BR', { style:'currency', currency:'BRL' });
}

// Pega todos os gastos do localStorage
const gastos = JSON.parse(localStorage.getItem('gastos') || '[]');
const container = document.getElementById('gastosContainer');

// Ordena do mais recente
gastos.sort((a,b)=> new Date(b.data) - new Date(a.data));

// Cria cards
gastos.forEach(gasto=>{
  const div = document.createElement('div');
  div.classList.add('gasto');
  div.classList.add(gasto.tipo === 'pix' ? 'tipo-pix' : 'tipo-meta');
  const date = new Date(gasto.data);
  div.innerHTML = `
    <span class="descricao">${gasto.descricao}</span>
    <span class="valor">${formatBRL(gasto.valor)}</span>
    <span class="data">${date.toLocaleDateString('pt-BR')} ${date.toLocaleTimeString('pt-BR',{hour:'2-digit',minute:'2-digit'})}</span>
  `;
  container.appendChild(div);
});
</script>

</body>
</html>
